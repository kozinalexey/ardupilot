files that requires to be compiled with -O0

GPIO 
Scheduler 
gpio_hal 
spi
SPIDevice
timer


may be try to find problematic places via

#pragma GCC push_options
#pragma GCC optimize ("O0")

code

#pragma GCC pop_options


or via 

void __attribute__((optimize("O0"))) foo(unsigned char data) {
    // unmodifiable compiler code
}